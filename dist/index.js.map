{"version":3,"sources":["../src/index.ts","../src/drawer/index.ts","../src/drawer/content/ui/content.tsx","../src/drawer/lib/hooks/use-drawer-context.ts","../src/drawer/lib/providers/drawer-context.tsx","../src/drawer/lib/providers/portal-context.tsx","../src/drawer/lib/hooks/use-portal-context.ts","../src/drawer/content/ui/sheet.tsx","../src/shared/lib/helpers.ts","../src/drawer/lib/constants.ts","../src/drawer/lib/helpers.ts","../src/shared/lib/hooks/use-value.ts","../src/shared/lib/hooks/use-value-change.ts","../src/shared/lib/hooks/use-set-style.ts","../src/shared/ui/draggable/ui/draggable.tsx","../src/shared/ui/draggable/lib/helpers.ts","../src/shared/ui/draggable/lib/hooks/use-drag-controls.ts","../src/shared/ui/draggable/lib/hooks/use-controls-state.ts","../src/shared/ui/draggable/lib/hooks/use-draggable.ts","../src/shared/ui/draggable/lib/hooks/use-prevent-scroll.ts","#style-inject:#style-inject","../src/shared/ui/draggable/ui/draggable.css","../src/drawer/content/lib/helpers.ts","../src/drawer/content/lib/hooks/use-drag-events/use-drag-events.ts","../src/drawer/content/lib/hooks/use-drag-events/use-get-snap.ts","../src/drawer/content/lib/hooks/use-snap-to-current.ts","../src/drawer/content/lib/hooks/use-snap-to.ts","../src/drawer/index.css","../src/drawer/overlay/ui/overlay.tsx","../src/drawer/overlay/ui/overlay-primitive.tsx","../src/drawer/portal/ui/portal.tsx","../src/drawer/root/ui/root.tsx","../src/drawer/root/lib/hooks/use-open-state.ts","../src/drawer/root/lib/hooks/use-snap-state.ts","../src/drawer/root/lib/hooks/use-constraint-events.ts","../src/drawer/root/lib/hooks/use-scaled-background.ts","../src/drawer/scrollable/ui/scrollable.tsx","../src/drawer/scrollable/lib/helpers.ts","../src/drawer/snap-areas/ui/snap-areas.tsx","../src/drawer/snap-areas/ui/areas.tsx","../src/drawer/snap-areas/lib/constants.ts","../src/drawer/snap-areas/lib/hooks/use-mounted.ts","../src/drawer/snap-areas/ui/lines.tsx"],"sourcesContent":["export * from './drawer'\n","import { Close, Description, Title, Trigger } from '@radix-ui/react-dialog'\n\nimport { Content } from './content'\nimport './index.css'\nimport { Overlay } from './overlay'\nimport { Portal } from './portal'\nimport { Root } from './root'\nimport { Scrollable } from './scrollable'\nimport { SnapAreas } from './snap-areas'\n\nexport type { Snap } from './lib/types'\nexport type { RootProps as DrawerRootProps } from './root'\nexport type { ContentProps as DrawerContentProps } from './content'\nexport type { PortalProps as DrawerPortalProps } from './portal'\nexport type { OverlayProps as DrawerOverlayProps } from './overlay'\nexport type { ScrollableProps as DrawerScrollableProps } from './scrollable'\nexport type {\n  DialogTriggerProps as DrawerTriggerProps,\n  DialogTitleProps as DrawerTitleProps,\n  DialogDescriptionProps as DrawerDescriptionProps,\n  DialogCloseProps as DrawerCloseProps\n} from '@radix-ui/react-dialog'\n\nexport const Drawer = {\n  Root,\n  Content,\n  Portal,\n  Overlay,\n  SnapAreas,\n  Scrollable,\n  Trigger,\n  Close,\n  Title,\n  Description\n}\n\nexport {\n  Root as DrawerRoot,\n  Content as DrawerContent,\n  Portal as DrawerPortal,\n  Overlay as DrawerOverlay,\n  SnapAreas as DrawerSnapAreas,\n  Scrollable as DrawerScrollable,\n  Trigger as DrawerTrigger,\n  Close as DrawerClose,\n  Title as DrawerTitle,\n  Description as DrawerDescription\n}\n","'use client'\n\nimport React, { forwardRef } from 'react'\n\nimport {\n  Content as ContentPrimitive,\n  type DialogContentProps as ContentPrimitiveProps\n} from '@radix-ui/react-dialog'\n\nimport { useDrawerContext } from '@/drawer/lib/hooks'\n\nimport { Sheet, type SheetProps } from './sheet'\n\nexport interface ContentProps\n  extends Omit<ContentPrimitiveProps, keyof SheetProps>,\n    SheetProps {}\n\nexport const Content = forwardRef<HTMLDivElement, ContentProps>(\n  (\n    {\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onEscapeKeyDown,\n      onPointerDownOutside,\n      onInteractOutside,\n      forceMount,\n      ...props\n    },\n    ref\n  ) => {\n    const { modal, drawerControls, dismissible } = useDrawerContext()\n\n    const primitiveProps = {\n      onOpenAutoFocus,\n      onCloseAutoFocus,\n      onPointerDownOutside,\n      forceMount\n    }\n\n    return (\n      <ContentPrimitive\n        ref={ref}\n        asChild\n        {...primitiveProps}\n        vladyoslav-drawer=\"\"\n        onEscapeKeyDown={(e) => {\n          if (drawerControls.isDragging.get()) return e.preventDefault()\n          if (!dismissible) e.preventDefault()\n          onEscapeKeyDown?.(e)\n        }}\n        onInteractOutside={(e) => {\n          if (!modal || !dismissible) e.preventDefault()\n          onInteractOutside?.(e)\n        }}\n      >\n        <Sheet {...props} />\n      </ContentPrimitive>\n    )\n  }\n)\n\nContent.displayName = 'Drawer.Content'\n","import { useContext } from 'react'\n\nimport { DrawerContext } from '../providers'\n\nexport const useDrawerContext = () => {\n  const context = useContext(DrawerContext)\n\n  if (context === null) {\n    throw new Error('useDrawerContext was used outside of its Provider')\n  }\n\n  return context\n}\n","import React, {\n  type FC,\n  type PropsWithChildren,\n  type RefObject,\n  createContext\n} from 'react'\n\nimport {\n  type ConstraintEventHandler,\n  type DragControls\n} from '@/shared/ui/draggable'\n\nimport { type OnOpenChange, type SetSnap, type Snap } from '../types'\n\nexport interface DrawerContextValue {\n  drawerControls: DragControls<Snap>\n  scrollableControls: DragControls<number>\n  defaultOpen: boolean\n  open: boolean\n  onOpenChange: OnOpenChange\n  snapPoints: Snap[]\n  snap: Snap\n  setSnap: SetSnap\n  dismissible: boolean\n  drawerRef: RefObject<HTMLDivElement>\n  scrollableRef: RefObject<HTMLDivElement>\n  scrollLockTimeout: number\n  modal: boolean\n  onDrawerConstraint: ConstraintEventHandler\n  onScrollableConstraint: ConstraintEventHandler\n}\n\nexport const DrawerContext = createContext<DrawerContextValue | null>(null)\n\nexport interface DrawerContextProviderProps extends PropsWithChildren {\n  value: DrawerContextValue\n}\n\nexport const DrawerContextProvider: FC<DrawerContextProviderProps> = (\n  props\n) => <DrawerContext.Provider {...props} />\n","import React, { type FC, type PropsWithChildren, createContext } from 'react'\n\nexport const PortalContext = createContext<true | undefined>(undefined)\n\nexport interface PortalContextProviderProps extends PropsWithChildren {\n  forceMount?: true\n}\n\nexport const PortalContextProvider: FC<PortalContextProviderProps> = ({\n  forceMount,\n  ...props\n}) => <PortalContext.Provider value={forceMount} {...props} />\n","import { useContext } from 'react'\n\nimport { PortalContext } from '../providers'\n\nexport const usePortalContext = () => {\n  const context = useContext(PortalContext)\n\n  if (context === null) {\n    throw new Error('usePortalContext was used outside of its Provider')\n  }\n\n  return context\n}\n","'use client'\n\nimport React, { forwardRef, useEffect } from 'react'\n\nimport { useComposedRefs } from '@radix-ui/react-compose-refs'\n\nimport { cssToPx } from '@/drawer/lib/helpers'\nimport { useDrawerContext } from '@/drawer/lib/hooks'\nimport { type Snap } from '@/drawer/lib/types'\nimport { mergeHandlers } from '@/shared/lib/helpers'\nimport { useSetStyle } from '@/shared/lib/hooks'\nimport { Draggable, type DraggableProps } from '@/shared/ui/draggable'\n\nimport { getMinConstraint, transformTemplate } from '../lib/helpers'\nimport { useDragEvents, useSnapTo, useSnapToCurrent } from '../lib/hooks'\n\nexport interface SheetProps extends DraggableProps<Snap> {}\n\nexport const Sheet = forwardRef<HTMLDivElement, SheetProps>(\n  (\n    { onConstraint, onPointerUp, onPointerCancel, onDragEnd, ...props },\n    forwardedRef\n  ) => {\n    const {\n      open,\n      onOpenChange,\n      drawerControls,\n      snapPoints,\n      snap,\n      setSnap,\n      dismissible,\n      drawerRef: contextRef,\n      scrollLockTimeout,\n      onDrawerConstraint\n    } = useDrawerContext()\n\n    const { locked } = drawerControls\n\n    const firstPoint = snapPoints[0]\n\n    const snapTo = useSnapTo(drawerControls.y)\n\n    const { drawerRef, listeners } = useDragEvents<HTMLDivElement>({\n      snapPoints,\n      snapTo,\n      snap,\n      setSnap,\n      onClose: () => onOpenChange(false),\n      dismissible,\n      locked\n    })\n\n    const { handleDragEnd, handleRelease } = listeners\n\n    const composedRef = useComposedRefs(drawerRef, forwardedRef, contextRef)\n\n    const [setStyle, resetStyle] = useSetStyle(drawerRef)\n\n    useSnapToCurrent(snapTo, snap, open)\n\n    useEffect(() => {\n      if (open) resetStyle('pointerEvents')\n      else setStyle({ pointerEvents: 'none' })\n    }, [open])\n\n    return (\n      <Draggable\n        ref={composedRef}\n        dragControls={drawerControls}\n        transformTemplate={transformTemplate}\n        constraints={{\n          min: (el) => getMinConstraint(el, snapPoints),\n          max: (el) => (dismissible ? 0 : -cssToPx(firstPoint, el))\n        }}\n        scrollLockTimeout={scrollLockTimeout}\n        onConstraint={(e, type) => {\n          onConstraint?.(e, type)\n          return onDrawerConstraint(e, type)\n        }}\n        onDragEnd={mergeHandlers(handleDragEnd, onDragEnd)}\n        onPointerUp={mergeHandlers(handleRelease, onPointerUp)}\n        onPointerCancel={mergeHandlers(handleRelease, onPointerCancel)}\n        {...props}\n      />\n    )\n  }\n)\n\nSheet.displayName = 'Drawer.Sheet'\n","import { type Style } from './types'\n\nexport const isNumber = (value: unknown): value is number =>\n  typeof value === 'number'\n\nexport const isString = (value: unknown): value is string =>\n  typeof value === 'string'\n\nexport const isFunction = (value: unknown): value is Function =>\n  typeof value === 'function'\n\nexport const clamp = (min: number, max: number, value: number) =>\n  Math.min(max, Math.max(min, value))\n\nexport const mergeHandlers = <T extends (...args: any) => any>(\n  ...handlers: Array<T | undefined>\n) => {\n  return (...args: Parameters<T>) =>\n    handlers.forEach((handler) => handler?.(...args))\n}\n\n// Some code was taken from https://github.com/emilkowalski/vaul/blob/main/src/helpers.ts\nconst cache = new WeakMap<HTMLElement, Style>()\n\nexport const setStyle = (el: HTMLElement, style: Style) => {\n  const original: Style = {}\n  const elStyle = el.style as unknown as Style\n\n  for (const [key, value] of Object.entries(style)) {\n    original[key] = elStyle[key]\n    elStyle[key] = value\n  }\n\n  const cached = cache.get(el)\n  cache.set(el, { ...cached, ...original })\n}\n\nexport const resetStyle = (el: HTMLElement, prop?: string) => {\n  const original = cache.get(el)\n\n  if (!original) return\n\n  const elStyle = el.style as unknown as Style\n\n  if (prop) return (elStyle[prop] = original[prop])\n\n  Object.entries(original).forEach(([key, value]) => {\n    elStyle[key] = value\n  })\n}\n","export const PX_REGEX = /(\\d{1,20})px/gi\n\nexport const PERCENT_REGEX = /[\\d.]{1,20}%/\n","import { isNumber } from '@/shared/lib/helpers'\n\nimport { PERCENT_REGEX, PX_REGEX } from './constants'\nimport { type Snap } from './types'\n\nexport const cssToPx = (value: number | string, el: HTMLElement): number => {\n  if (!el) throw new Error('You have to provide element')\n\n  const rect = el.getBoundingClientRect()\n\n  if (isNumber(value)) return value\n\n  if (value.match(PERCENT_REGEX)) return (rect.height * parseFloat(value)) / 100\n\n  if (value.match(PX_REGEX)) return parseFloat(value)\n\n  throw new Error('Unknown value units')\n}\n\nexport const getSnapAreas = (snapPoints: Snap[], el: HTMLElement) => {\n  const toPx = (value: Snap) => cssToPx(value, el)\n\n  // [0, '200px', '500px', '1000px']\n  // [100, 350, 750]\n  const [first, ...other] = snapPoints\n\n  let prev = first\n\n  const snapAreas = []\n\n  for (const snap of other) {\n    snapAreas.push((toPx(prev) + toPx(snap)) / 2)\n    prev = snap\n  }\n\n  return snapAreas\n}\n","import { useRef } from 'react'\n\nimport {\n  type Get,\n  type Handler,\n  type Set,\n  type Subscribe,\n  type Value\n} from '../types'\n\nexport const useValue = <T>(initial: T): Value<T> => {\n  const v = useRef(initial)\n  const key = useRef(0)\n\n  const handlers = useRef(new Map<number, Handler<T>>())\n\n  const notify = () => {\n    handlers.current.forEach((handler) => handler(v.current))\n  }\n\n  const set: Set<T> = (value) => {\n    if (value === v.current) return\n\n    v.current = value\n\n    notify()\n  }\n\n  const subscribe: Subscribe<T> = (handler) => {\n    const oldKey = key.current\n\n    handlers.current.set(oldKey, handler)\n\n    key.current += 1\n\n    return () => handlers.current.delete(oldKey)\n  }\n\n  const get: Get<T> = () => v.current\n\n  return {\n    set,\n    get,\n    subscribe\n  }\n}\n","import { useEffect } from 'react'\n\nimport { type Handler, type Value } from '../types'\n\nexport const useValueChange = <T>(value: Value<T>, handler: Handler<T>) => {\n  useEffect(() => {\n    const unsub = value.subscribe(handler)\n\n    return () => {\n      unsub()\n    }\n  }, [])\n}\n","import { type RefObject } from 'react'\n\nimport { resetStyle, setStyle } from '../helpers'\nimport { type Style } from '../types'\n\nexport const useSetStyle = (ref: RefObject<HTMLElement>) => {\n  const set = (style: Style) => {\n    const el = ref.current\n    if (!el) return\n\n    setStyle(el as HTMLElement, style)\n  }\n\n  const reset = (prop?: string) => {\n    const el = ref.current\n    if (!el) return\n\n    resetStyle(el as HTMLElement, prop)\n  }\n\n  return [set, reset] as const\n}\n","import React, {\n  type ForwardedRef,\n  type ReactElement,\n  type Ref,\n  forwardRef\n} from 'react'\n\nimport { useComposedRefs } from '@radix-ui/react-compose-refs'\nimport {\n  type ComponentPropsWithoutRef,\n  Primitive\n} from '@radix-ui/react-primitive'\n\nimport { mergeHandlers } from '@/shared/lib/helpers'\nimport { useSetStyle, useValueChange } from '@/shared/lib/hooks'\n\nimport { defaultTransformTemplate } from '../lib/helpers'\nimport { useControlsState, useDraggable, usePreventScroll } from '../lib/hooks'\nimport {\n  type ConstraintEventHandler,\n  type Constraints,\n  type DragControls,\n  type DragEventHandler,\n  type TransformTemplate\n} from '../lib/types'\nimport './draggable.css'\n\ninterface DragProps<T> {\n  dragControls?: DragControls<T>\n  constraints?: Constraints\n  onConstraint?: ConstraintEventHandler\n  onDragStart?: DragEventHandler\n  onDragMove?: DragEventHandler\n  onDragEnd?: DragEventHandler\n  transformTemplate?: TransformTemplate\n  scrollLockTimeout?: number\n}\n\ntype PrimitiveDivProps<T> = Omit<\n  ComponentPropsWithoutRef<typeof Primitive.div>,\n  keyof DragProps<T>\n>\n\nexport interface DraggableProps<T> extends PrimitiveDivProps<T>, DragProps<T> {}\n\nconst _Draggable = <T,>(\n  {\n    constraints,\n    dragControls: cDragControls,\n    onConstraint,\n    onPointerDown,\n    onPointerMove,\n    onPointerUp,\n    onPointerCancel,\n    onDragStart,\n    onDragMove,\n    onDragEnd,\n    transformTemplate = defaultTransformTemplate,\n    scrollLockTimeout = 0,\n    ...props\n  }: DraggableProps<T>,\n  forwardedRef: ForwardedRef<HTMLDivElement>\n) => {\n  const dragControls = useControlsState(cDragControls)\n  const { y, isDragging } = dragControls\n\n  const { ref, wantToDrag, listeners } = useDraggable({\n    dragControls,\n    constraints,\n    onConstraint,\n    onDragStart,\n    onDragMove,\n    onDragEnd,\n    transformTemplate,\n    scrollLockTimeout\n  })\n\n  const { handlePointerDown, handlePointerMove, handleRelease } = listeners\n\n  const composedRef = useComposedRefs(ref, forwardedRef)\n\n  const [setStyle, resetStyle] = useSetStyle(ref)\n\n  useValueChange(y, (latest) => {\n    setStyle({ transform: transformTemplate(latest) })\n  })\n\n  useValueChange(wantToDrag, (latest) => {\n    if (latest) setStyle({ transition: 'none' })\n    else resetStyle('transition')\n  })\n\n  usePreventScroll(isDragging)\n\n  return (\n    <Primitive.div\n      vladyoslav-drawer-draggable=\"\"\n      draggable=\"false\"\n      ref={composedRef}\n      onPointerDown={mergeHandlers(handlePointerDown, onPointerDown)}\n      onPointerMove={mergeHandlers(handlePointerMove, onPointerMove)}\n      onPointerUp={mergeHandlers(handleRelease, onPointerUp)}\n      onPointerCancel={mergeHandlers(handleRelease, onPointerCancel)}\n      {...props}\n    />\n  )\n}\n\nexport const Draggable = forwardRef(_Draggable) as <T>(\n  props: DraggableProps<T> & { ref?: Ref<HTMLDivElement> }\n) => ReactElement\n","import { clamp, isFunction } from '@/shared/lib/helpers'\n\nimport { type Constraint, type TransformTemplate } from './types'\n\nexport const getConstraint = (c: Constraint, el: HTMLElement) =>\n  isFunction(c) ? c(el) : c\n\nexport const defaultTransformTemplate: TransformTemplate = (y) =>\n  `translate3d(0, ${y}px, 0)`\n\nconst reachedBottom = (el: HTMLElement) =>\n  Math.abs(el.scrollTop + el.clientHeight - el.scrollHeight) < 2\n\nconst hasScrollOverflow = (el: HTMLElement) => {\n  const style = window.getComputedStyle(el)\n  const overflows = ['scroll', 'auto']\n\n  return (\n    overflows.includes(style.overflowY) || overflows.includes(style.overflow)\n  )\n}\n\n// Some code was taken from https://github.com/emilkowalski/vaul/blob/main/src/index.tsx\nexport const shouldDrag = (\n  el: HTMLElement,\n  root: HTMLElement,\n  isDraggingDown: boolean,\n  checkScroll: boolean\n) => {\n  const selection = window.getSelection()?.toString()\n\n  if (selection && selection.length) return false\n\n  if (!checkScroll) return true\n\n  let element = el\n\n  // Keep climbing up the DOM tree as long as there's a parent\n  while (element) {\n    // Check if the element is scrollable\n    if (element.scrollHeight > element.clientHeight) {\n      const top = element.scrollTop <= 0 && isDraggingDown\n\n      const bottom = reachedBottom(element) && !isDraggingDown\n\n      const scrollOverflow = hasScrollOverflow(element)\n\n      if (!top && !bottom && scrollOverflow) return false\n    }\n\n    if (element === root) return true\n\n    // Move up to the parent element\n    element = element.parentNode as HTMLElement\n  }\n\n  return true\n}\n\n// Some code was taken from https://github.com/clauderic/dnd-kit/blob/master/stories/3%20-%20Examples/Drawer/modifiers.ts'\nconst rubberband = (dis: number, dim: number, el: number) => {\n  return (dis * dim * el) / (dim + el * dis)\n}\n\nconst reverseRubberband = (dis: number, dim: number, el: number) => {\n  return (dis * dim) / (el * (dim - dis))\n}\n\nconst applyRubberband = (\n  pos: number,\n  min: number,\n  max: number,\n  func = rubberband,\n  el = 0.3\n) => {\n  if (el === 0) return clamp(min, max, pos)\n  if (pos < min) return -func(min - pos, 100, el) + min\n  if (pos > max) return +func(pos - max, 100, el) + max\n  return pos\n}\n\nexport const getDumpedValue = (pos: number, min: number, max: number) =>\n  applyRubberband(pos, min, max)\n\nexport const getUndumpedValue = (pos: number, min: number, max: number) =>\n  applyRubberband(pos, min, max, reverseRubberband)\n\n// Px per ms\nexport const getVelocity = (delta: number, timeDelta: number) =>\n  delta / timeDelta\n","import { useValue } from '@/shared/lib/hooks'\n\nimport { type DragControls, type NumberOr } from '../types'\n\nexport const useDragControls = <T>(initLocked = false): DragControls<T> => {\n  const locked = useValue(initLocked)\n  const y = useValue<NumberOr<T>>(0)\n  const isDragging = useValue(false)\n\n  return {\n    lock: () => locked.set(true),\n    unlock: () => locked.set(false),\n    locked,\n    y,\n    isDragging\n  }\n}\n","import { type DragControls } from '../types'\nimport { useDragControls } from './use-drag-controls'\n\nexport const useControlsState = <T>(\n  dragControls: DragControls<T> | undefined,\n  initLocked?: boolean\n) => {\n  const internal = useDragControls<T>(initLocked)\n\n  return dragControls ?? internal\n}\n","import { type PointerEvent as ReactPointerEvent, useRef } from 'react'\n\nimport { clamp, isNumber } from '@/shared/lib/helpers'\nimport { useSetStyle, useValue } from '@/shared/lib/hooks'\n\nimport {\n  getConstraint,\n  getDumpedValue,\n  getUndumpedValue,\n  getVelocity,\n  shouldDrag\n} from '../helpers'\nimport {\n  type ConstraintEventHandler,\n  ConstraintType,\n  type Constraints,\n  type DragControls,\n  type DragEventHandler,\n  type NumberOr,\n  type TransformTemplate\n} from '../types'\n\ninterface DraggableOptions<T> {\n  dragControls: DragControls<T>\n  constraints?: Constraints\n  onConstraint?: ConstraintEventHandler\n  onDragStart?: DragEventHandler\n  onDragMove?: DragEventHandler\n  onDragEnd?: DragEventHandler\n  transformTemplate?: TransformTemplate\n  scrollLockTimeout: number\n}\n\nexport const useDraggable = <T>({\n  dragControls,\n  transformTemplate,\n  constraints,\n  onConstraint,\n  onDragStart,\n  onDragMove,\n  onDragEnd,\n  scrollLockTimeout\n}: DraggableOptions<T>) => {\n  const { y, isDragging } = dragControls\n\n  const last = useRef(0)\n  const lastTime = useRef(0)\n  const lastVelocity = useRef(0)\n\n  const initTop = useRef(0)\n  const initY = useRef<NumberOr<T> | null>(null)\n\n  const wantToDrag = useValue(false)\n\n  const ref = useRef<HTMLDivElement>(null)\n  const [setStyle, resetStyle] = useSetStyle(ref)\n\n  const lastTimePrevented = useRef(0)\n\n  const getNumberY = () => {\n    const node = ref.current\n    if (!node) return 0\n\n    // Resetting y and checking rect y\n    setStyle({ transform: transformTemplate?.(0) ?? 'none' })\n    const resettedTop = node.getBoundingClientRect().top\n    resetStyle('transform')\n\n    return initTop.current - resettedTop\n  }\n\n  const handleDragStart: DragEventHandler<HTMLElement> = (e, info) => {\n    const node = ref.current\n    if (!node) return\n\n    const target = e.target as HTMLElement\n    target.setPointerCapture(e.pointerId)\n\n    isDragging.set(true)\n\n    onDragStart?.(e, info)\n  }\n\n  const handleDrag: DragEventHandler = (e, info) => {\n    const node = ref.current\n    if (!node) return\n\n    const curY = y.get()\n    const curNumberY = isNumber(curY) ? curY : getNumberY() // TODO use cssToPx\n\n    // Constraints\n    if (!constraints) {\n      y.set(curNumberY + info.delta)\n    } else {\n      const min = getConstraint(constraints[ConstraintType.Min], node)\n      const max = getConstraint(constraints[ConstraintType.Max], node)\n\n      const newUndumpedY = getUndumpedValue(curNumberY, min, max) + info.delta\n\n      let proceed = true\n      if (newUndumpedY <= min || newUndumpedY >= max) {\n        const constraint =\n          newUndumpedY <= min ? ConstraintType.Min : ConstraintType.Max\n\n        const res = onConstraint?.(e, constraint)\n\n        proceed = res === undefined || res\n      }\n\n      const newY = proceed\n        ? getDumpedValue(newUndumpedY, min, max)\n        : clamp(min, max, newUndumpedY)\n\n      y.set(newY)\n    }\n\n    onDragMove?.(e, info)\n  }\n\n  const handleDragEnd: DragEventHandler = (e, info) => onDragEnd?.(e, info)\n\n  const resetVariables = () => {\n    wantToDrag.set(false)\n    isDragging.set(false)\n    initY.current = null\n  }\n\n  const handlePointerDown = (e: ReactPointerEvent<HTMLDivElement>) => {\n    if (!e.isPrimary) return\n\n    last.current = e.clientY\n    lastTime.current = e.timeStamp\n\n    const node = ref.current\n    if (!node) return\n\n    initTop.current = node.getBoundingClientRect().top\n\n    // Stopping transition and setting y to current number value\n    wantToDrag.set(true)\n\n    const curTop = node.getBoundingClientRect().top\n\n    // Dragging during transition\n    if (initTop.current !== curTop) {\n      initY.current = y.get()\n      y.set(getNumberY())\n    }\n  }\n\n  const handlePointerMove = (e: ReactPointerEvent<HTMLDivElement>) => {\n    if (!e.isPrimary) return\n\n    const delta = e.clientY - last.current\n    const velocity = getVelocity(delta, e.timeStamp - lastTime.current)\n\n    last.current = e.clientY\n    lastTime.current = e.timeStamp\n    lastVelocity.current = velocity\n\n    if (!wantToDrag.get()) return\n\n    const node = ref.current\n    if (!node) return\n\n    // Runs once per drag\n    if (!isDragging.get()) {\n      const passed = shouldDrag(\n        e.target as HTMLElement,\n        node,\n        delta > 0,\n        e.pointerType === 'touch'\n      )\n\n      const passedTimeout =\n        e.timeStamp - lastTimePrevented.current >= scrollLockTimeout\n\n      if (!passed || !passedTimeout) {\n        resetVariables()\n\n        lastTimePrevented.current = e.timeStamp\n\n        // Resetting to the pos before trying to drag\n        if (initY.current !== null) y.set(initY.current)\n\n        return\n      }\n\n      handleDragStart(e, { delta, velocity })\n    }\n\n    // Check controls\n    if (dragControls.locked.get()) return\n\n    handleDrag(e, { delta, velocity })\n  }\n\n  const handleRelease = (e: ReactPointerEvent<HTMLDivElement>) => {\n    if (!e.isPrimary) return\n\n    const node = ref.current\n    if (!node) return\n\n    const delta = e.clientY - last.current\n    const timeDelta = e.timeStamp - lastTime.current\n\n    // Sometimes the velocity is 0, even if in fact it's not\n    const velocity = getVelocity(delta, timeDelta) || lastVelocity.current\n\n    const wasDragging = isDragging.get()\n\n    resetVariables()\n\n    if (!wasDragging) return\n\n    handleDragEnd(e, {\n      delta,\n      velocity\n    })\n  }\n\n  return {\n    wantToDrag,\n    ref,\n    listeners: {\n      handlePointerDown,\n      handlePointerMove,\n      handleRelease\n    }\n  }\n}\n","import { useEffect } from 'react'\n\nimport { type Value } from '@/shared/lib/types'\n\nexport const usePreventScroll = (isDragging: Value<boolean>) => {\n  const handleTouchMove = (e: TouchEvent) => {\n    if (isDragging.get()) e.preventDefault()\n  }\n\n  useEffect(() => {\n    document.addEventListener('touchmove', handleTouchMove, { passive: false })\n\n    return () => {\n      document.removeEventListener('touchmove', handleTouchMove)\n    }\n  }, [])\n}\n","\n          export default function styleInject(css, { insertAt } = {}) {\n            if (!css || typeof document === 'undefined') return\n          \n            const head = document.head || document.getElementsByTagName('head')[0]\n            const style = document.createElement('style')\n            style.type = 'text/css'\n          \n            if (insertAt === 'top') {\n              if (head.firstChild) {\n                head.insertBefore(style, head.firstChild)\n              } else {\n                head.appendChild(style)\n              }\n            } else {\n              head.appendChild(style)\n            }\n          \n            if (style.styleSheet) {\n              style.styleSheet.cssText = css\n            } else {\n              style.appendChild(document.createTextNode(css))\n            }\n          }\n          ","import styleInject from '#style-inject';styleInject(\"[vladyoslav-drawer-draggable] {\\n}\\n@media (hover: hover) and (pointer: fine) {\\n  [vladyoslav-drawer-draggable] {\\n    user-select: none;\\n  }\\n}\\n\")","import { cssToPx, getSnapAreas } from '@/drawer/lib/helpers'\nimport { type Snap } from '@/drawer/lib/types'\nimport { isNumber } from '@/shared/lib/helpers'\nimport { type TransformTemplate } from '@/shared/ui/draggable'\n\nexport const transformTemplate: TransformTemplate = (y) =>\n  `translate3d(0, calc(100% + ${isNumber(y) ? `${y}px` : y}), 0)`\n\nexport const getSnap = (snapPoints: Snap[], value: number, el: HTMLElement) => {\n  const snapAreas = getSnapAreas(snapPoints, el)\n\n  for (let i = 0; i < snapAreas.length; i++)\n    if (value <= snapAreas[i]) return snapPoints[i]\n\n  return snapPoints[snapPoints.length - 1]\n}\n\nexport const getMinConstraint = (el: HTMLElement, snapPoints: Snap[]) => {\n  const lastPoint = snapPoints[snapPoints.length - 1]\n\n  return -cssToPx(lastPoint, el)\n}\n","import { type PointerEvent as ReactPointerEvent, useRef } from 'react'\n\nimport { type SetSnap, type Snap } from '@/drawer/lib/types'\nimport { type Value } from '@/shared/lib/types'\nimport { type DragEventHandler } from '@/shared/ui/draggable'\n\nimport { type SnapTo } from '../../types'\nimport { useGetSnap } from './use-get-snap'\n\ninterface DragEventsOptions {\n  snapPoints: Snap[]\n  snapTo: SnapTo\n  snap: Snap\n  setSnap: SetSnap\n  onClose: () => void\n  dismissible: boolean\n  locked: Value<boolean>\n}\n\nexport const useDragEvents = <T extends HTMLElement>({\n  snapPoints,\n  snapTo,\n  snap,\n  setSnap,\n  onClose,\n  dismissible,\n  locked\n}: DragEventsOptions) => {\n  const drawerRef = useRef<T>(null)\n\n  const dismissablePoints = dismissible ? [0, ...snapPoints] : snapPoints\n  const getSnap = useGetSnap(dismissablePoints, drawerRef)\n\n  const handleDragEnd: DragEventHandler = (e, { velocity }) => {\n    const node = drawerRef.current\n    if (!node) return\n\n    const rect = node.getBoundingClientRect()\n    const pos = window.innerHeight - rect.y\n\n    // Definitely not undefined, because we checked the drawerRef.current earlier\n    let newSnap = getSnap(pos, locked.get() ? 0 : velocity)!\n\n    if (newSnap === 0) return onClose()\n\n    setSnap(newSnap)\n  }\n\n  const handleRelease = (e: ReactPointerEvent<HTMLDivElement>) =>\n    e.isPrimary && snapTo(snap)\n\n  return {\n    drawerRef,\n    listeners: {\n      handleDragEnd,\n      handleRelease\n    }\n  }\n}\n","import { type RefObject } from 'react'\n\nimport { cssToPx } from '@/drawer/lib/helpers'\nimport { type Snap } from '@/drawer/lib/types'\n\nimport { getSnap } from '../../helpers'\n\nexport const useGetSnap = (snapPoints: Snap[], ref: RefObject<HTMLElement>) => {\n  return (pos: number, velocity: number) => {\n    if (ref.current === null) return\n\n    const lastPoint = snapPoints[snapPoints.length - 1]\n    const maxAddValue = cssToPx(lastPoint, ref.current)\n    const posWithVelocity = pos + -(velocity / 7) * maxAddValue\n\n    return getSnap(snapPoints, posWithVelocity, ref.current)\n  }\n}\n","import { useEffect } from 'react'\n\nimport { type Snap } from '@/drawer/lib/types'\n\nimport { type SnapTo } from '../types'\n\nexport const useSnapToCurrent = (snapTo: SnapTo, snap: Snap, open: boolean) => {\n  return useEffect(() => {\n    // setTimeout fixes the opening animation when there's no `Drawer.Overlay`\n    // if (open) setTimeout(() => snapTo(snap), 0)\n    if (open) snapTo(snap)\n    else snapTo(0)\n  }, [open, snap])\n}\n","import { type Snap } from '@/drawer/lib/types'\nimport { isNumber } from '@/shared/lib/helpers'\nimport { type Value } from '@/shared/lib/types'\n\nexport const useSnapTo = (y: Value<Snap>) => {\n  return (to: Snap) => y.set(isNumber(to) ? -to : `-${to}`)\n}\n","import styleInject from '#style-inject';styleInject(\"[vladyoslav-drawer-overlay],\\n[vladyoslav-drawer],\\n[vladyoslav-drawer-scrollable],\\n[vladyoslav-drawer-wrapper] {\\n  --duration: 0.5s;\\n  --timing-function: cubic-bezier(0.32, 0.72, 0, 1);\\n  --scroll-bar-shift: var(--removed-body-scroll-bar-size, 0);\\n}\\n[vladyoslav-drawer-overlay] {\\n  opacity: 0;\\n  transition: opacity var(--duration) var(--timing-function);\\n}\\n[vladyoslav-drawer] {\\n  transform: translate3d(0, 100%, 0);\\n}\\n[vladyoslav-drawer],\\n[vladyoslav-drawer-scrollable] {\\n  transition: transform var(--duration) var(--timing-function);\\n}\\n[vladyoslav-drawer-wrapper] {\\n  --border-radius: 8px;\\n  --offset: 14;\\n  transform-origin: top center;\\n  transition-property: transform, border-radius;\\n  transition-duration: var(--duration);\\n  transition-timing-function: var(--timing-function);\\n}\\n[vladyoslav-drawer]::after {\\n  content: \\\"\\\";\\n  position: absolute;\\n  top: calc(100% - 1px);\\n  background: inherit;\\n  background-color: inherit;\\n  left: 0;\\n  right: 0;\\n  height: 100%;\\n  z-index: -1;\\n}\\n[vladyoslav-drawer-overlay][data-state=closed],\\n[vladyoslav-drawer][data-state=closed] {\\n  animation: fake-animation var(--duration) var(--timing-function);\\n}\\n@keyframes fake-animation {\\n  from {\\n  }\\n  to {\\n  }\\n}\\n\")","'use client'\n\nimport React, { forwardRef, useRef } from 'react'\n\nimport { useComposedRefs } from '@radix-ui/react-compose-refs'\nimport {\n  type DialogOverlayProps as OverlayPrimitiveProps,\n  Overlay as RadixOverlayPrimitive\n} from '@radix-ui/react-dialog'\nimport { Presence } from '@radix-ui/react-presence'\n\nimport { cssToPx } from '@/drawer/lib/helpers'\nimport { useDrawerContext, usePortalContext } from '@/drawer/lib/hooks'\nimport { type Snap } from '@/drawer/lib/types'\nimport { clamp } from '@/shared/lib/helpers'\nimport { useSetStyle, useValueChange } from '@/shared/lib/hooks'\n\nimport { OverlayPrimitive } from './overlay-primitive'\n\ninterface WithCustomPrimitiveProps {\n  radixPrimitive: false\n  blockInteraction?: boolean\n}\n\ninterface WithRadixPrimitiveProps {\n  radixPrimitive?: boolean\n  blockInteraction?: never\n}\n\nexport type OverlayProps = OverlayPrimitiveProps &\n  (WithRadixPrimitiveProps | WithCustomPrimitiveProps) & {\n    fadeFrom?: Snap\n    finalOpacity?: number\n  }\n\nexport const Overlay = forwardRef<HTMLDivElement, OverlayProps>(\n  (\n    { radixPrimitive = true, fadeFrom = 0, finalOpacity = 0.8, ...props },\n    forwardedRef\n  ) => {\n    const contextForceMount = usePortalContext()\n\n    const { drawerControls, drawerRef, snapPoints, open } = useDrawerContext()\n    const { forceMount = contextForceMount, ...other } = props\n\n    const lastPoint = snapPoints[snapPoints.length - 1]\n\n    const ref = useRef<HTMLDivElement>(null)\n    const composedRef = useComposedRefs(ref, forwardedRef)\n\n    const [setStyle, resetStyle] = useSetStyle(ref)\n\n    useValueChange(drawerControls.y, (latest) => {\n      const node = drawerRef.current\n      if (!node) return\n\n      const y = cssToPx(latest, node)\n      const fadeFromY = cssToPx(fadeFrom, node)\n      const opacity = clamp(\n        0,\n        1,\n        ((-y - fadeFromY) / (cssToPx(lastPoint, node) - fadeFromY)) *\n          finalOpacity\n      )\n\n      setStyle({ opacity: opacity.toString() })\n    })\n\n    useValueChange(drawerControls.isDragging, (latest) => {\n      if (latest) setStyle({ transition: 'none' })\n      else resetStyle('transition')\n    })\n\n    if (radixPrimitive)\n      return (\n        <RadixOverlayPrimitive\n          vladyoslav-drawer-overlay=\"\"\n          data-testid=\"overlay\"\n          ref={composedRef}\n          {...other}\n        />\n      )\n\n    return (\n      <Presence present={forceMount || open}>\n        <OverlayPrimitive\n          vladyoslav-drawer-overlay=\"\"\n          data-testid=\"overlay\"\n          ref={composedRef}\n          {...other}\n        />\n      </Presence>\n    )\n  }\n)\n\nOverlay.displayName = 'Drawer.Overlay'\n","'use client'\n\nimport React, { forwardRef } from 'react'\n\nimport {\n  type ComponentPropsWithoutRef,\n  Primitive\n} from '@radix-ui/react-primitive'\nimport { Slot } from '@radix-ui/react-slot'\nimport { RemoveScroll } from 'react-remove-scroll'\n\nimport { useDrawerContext } from '@/drawer/lib/hooks'\n\ninterface OverlayPrimitiveProps\n  extends ComponentPropsWithoutRef<typeof Primitive.div> {\n  blockInteraction?: boolean\n}\n\n// Code from https://github.com/radix-ui/primitives/blob/main/packages/react/dialog/src/Dialog.tsx#L197\nexport const OverlayPrimitive = forwardRef<\n  HTMLDivElement,\n  OverlayPrimitiveProps\n>((props, ref) => {\n  const { drawerRef, open, modal } = useDrawerContext()\n  const { style, blockInteraction = modal, ...other } = props\n\n  return (\n    <RemoveScroll\n      enabled={blockInteraction}\n      as={Slot}\n      allowPinchZoom\n      shards={[drawerRef]}\n    >\n      <Primitive.div\n        data-state={open ? 'open' : 'closed'}\n        ref={ref}\n        // We re-enable pointer-events prevented by `Dialog.Content` to allow scrolling the overlay.\n        style={{\n          pointerEvents: blockInteraction ? 'auto' : 'none',\n          ...style\n        }}\n        {...other}\n      />\n    </RemoveScroll>\n  )\n})\n\nOverlayPrimitive.displayName = 'Drawer.OverlayPrimitive'\n","'use client'\n\nimport React, { type FC } from 'react'\n\nimport {\n  Portal as PortalPrimitive,\n  type DialogPortalProps as PortalPrimitiveProps\n} from '@radix-ui/react-dialog'\n\nimport { PortalContextProvider } from '@/drawer/lib/providers'\n\nexport interface PortalProps extends PortalPrimitiveProps {}\n\nexport const Portal: FC<PortalProps> = ({ ...props }) => {\n  return (\n    <PortalContextProvider forceMount={props.forceMount}>\n      <PortalPrimitive {...props} />\n    </PortalContextProvider>\n  )\n}\n\nPortal.displayName = 'Drawer.Portal'\n","'use client'\n\nimport React, { type FC, type PropsWithChildren, useRef } from 'react'\n\nimport { Root as RootPrimitive } from '@radix-ui/react-dialog'\n\nimport {\n  DrawerContextProvider,\n  type DrawerContextValue\n} from '@/drawer/lib/providers'\nimport { type OnOpenChange, type SetSnap, type Snap } from '@/drawer/lib/types'\nimport { type WithoutThisOrThat } from '@/shared/lib/types'\nimport { useDragControls } from '@/shared/ui/draggable'\n\nimport {\n  useConstraintEvents,\n  useOpenState,\n  useScaledBackground,\n  useSnapState\n} from '../lib/hooks'\n\ntype OpenProps = WithoutThisOrThat<\n  { defaultOpen?: boolean; open: boolean; onOpenChange: OnOpenChange },\n  'defaultOpen',\n  'open' | 'onOpenChange'\n>\n\ntype SnapProps = WithoutThisOrThat<\n  { snapPoints?: Snap[]; snap: Snap; setSnap: SetSnap },\n  '',\n  'snap' | 'setSnap'\n>\n\ninterface WithScaledBackground {\n  scaleFrom?: Snap\n  shouldScaleBackground: true\n}\n\ninterface WithoutScaledBackground {\n  scaleFrom?: never\n  shouldScaleBackground?: false\n}\n\nexport type RootProps = PropsWithChildren &\n  OpenProps &\n  SnapProps & {\n    dismissible?: boolean\n    modal?: boolean\n    scrollLockTimeout?: number\n  } & (WithScaledBackground | WithoutScaledBackground)\n\nexport const Root: FC<RootProps> = ({\n  defaultOpen = false,\n  open: cOpen,\n  onOpenChange: cOnOpenChange,\n  snapPoints = ['100%'],\n  snap: cSnap,\n  setSnap: cSetSnap,\n  dismissible = true,\n  modal = true,\n  scrollLockTimeout = 300,\n  scaleFrom = 0,\n  shouldScaleBackground = false,\n  children\n}) => {\n  const drawerControls = useDragControls<Snap>()\n  const scrollableControls = useDragControls<number>(true)\n\n  const [open, onOpenChange] = useOpenState(defaultOpen, cOpen, cOnOpenChange)\n  const [snap, setSnap] = useSnapState(snapPoints[0], cSnap, cSetSnap)\n\n  const drawerRef = useRef<HTMLDivElement>(null)\n  const scrollableRef = useRef<HTMLDivElement>(null)\n\n  const constraintHandlers = useConstraintEvents(\n    drawerRef,\n    scrollableRef,\n    drawerControls,\n    scrollableControls\n  )\n\n  const context: DrawerContextValue = {\n    drawerControls,\n    scrollableControls,\n    defaultOpen,\n    open,\n    onOpenChange,\n    snapPoints,\n    snap,\n    setSnap,\n    dismissible,\n    drawerRef,\n    scrollableRef,\n    scrollLockTimeout,\n    modal,\n    ...constraintHandlers\n  }\n\n  useScaledBackground(\n    drawerControls,\n    drawerRef,\n    snapPoints,\n    shouldScaleBackground,\n    scaleFrom\n  )\n\n  return (\n    <RootPrimitive open={open} onOpenChange={onOpenChange} modal={modal}>\n      <DrawerContextProvider value={context}>{children}</DrawerContextProvider>\n    </RootPrimitive>\n  )\n}\n","import { useState } from 'react'\n\nimport { type OnOpenChange } from '@/drawer/lib/types'\n\nexport const useOpenState = (\n  init: boolean,\n  open?: boolean,\n  onOpenChange?: OnOpenChange\n): [boolean, OnOpenChange] => {\n  const internal = useState(init)\n\n  return open && onOpenChange ? [open, onOpenChange] : internal\n}\n","import { useState } from 'react'\n\nimport { type SetSnap, type Snap } from '@/drawer/lib/types'\n\nexport const useSnapState = (init: Snap, snap?: Snap, setSnap?: SetSnap) => {\n  const internal = useState(init)\n\n  return snap && setSnap ? ([snap, setSnap] as const) : internal\n}\n","import { type RefObject } from 'react'\n\nimport { type Snap } from '@/drawer/lib/types'\nimport {\n  type ConstraintEventHandler,\n  ConstraintType,\n  type DragControls\n} from '@/shared/ui/draggable'\n\nexport const useConstraintEvents = (\n  drawerRef: RefObject<HTMLDivElement>,\n  scrollableRef: RefObject<HTMLDivElement>,\n  drawerControls: DragControls<Snap>,\n  scrollableControls: DragControls<number>\n) => {\n  const onDrawerConstraint: ConstraintEventHandler = (_, type) => {\n    if (!drawerRef.current) return\n    if (!scrollableRef.current) return\n    if (type === ConstraintType.Max) return\n\n    drawerControls.lock()\n    scrollableControls.unlock()\n\n    return false\n  }\n\n  const onScrollableConstraint: ConstraintEventHandler = (_, type) => {\n    if (!scrollableRef.current) return\n    if (type === ConstraintType.Min) return\n\n    drawerControls.unlock()\n    scrollableControls.lock()\n  }\n\n  return { onDrawerConstraint, onScrollableConstraint }\n}\n","import { type RefObject } from 'react'\n\nimport { cssToPx } from '@/drawer/lib/helpers'\nimport { type Snap } from '@/drawer/lib/types'\nimport { resetStyle, setStyle } from '@/shared/lib/helpers'\nimport { useValueChange } from '@/shared/lib/hooks'\nimport { type DragControls } from '@/shared/ui/draggable'\n\nexport const useScaledBackground = (\n  drawerControls: DragControls<Snap>,\n  drawerRef: RefObject<HTMLDivElement>,\n  snapPoints: Snap[],\n  shouldScaleBackground: boolean,\n  scaleFrom: Snap\n) => {\n  const lastPoint = snapPoints[snapPoints.length - 1]\n\n  const getWrapper = () => document.querySelector('[vladyoslav-drawer-wrapper]')\n\n  useValueChange(drawerControls.y, (latest) => {\n    if (!shouldScaleBackground) return\n\n    const node = drawerRef.current\n    if (!node) return\n\n    const wrapper = getWrapper()\n    if (!wrapper) return\n\n    const y = cssToPx(latest, node)\n    const scaleFromY = cssToPx(scaleFrom, node)\n    const multiplier = Math.max(\n      (-y - scaleFromY) / (cssToPx(lastPoint, node) - scaleFromY),\n      0\n    )\n\n    const width = (wrapper as HTMLElement).offsetWidth\n\n    const transform =\n      `scale(calc(1 - ((2 * var(--offset)) / ${width}) * ${multiplier})) ` +\n      `translate3d(0, calc(env(safe-area-inset-top) + (var(--offset) * 1px) * ${multiplier}), 0)`\n\n    const borderRadius = `calc(var(--border-radius) * ${multiplier})`\n\n    setStyle(wrapper as HTMLElement, { transform, borderRadius })\n  })\n\n  useValueChange(drawerControls.isDragging, (latest) => {\n    if (!shouldScaleBackground) return\n\n    const wrapper = getWrapper()\n    if (!wrapper) return\n\n    if (latest) setStyle(wrapper as HTMLElement, { transition: 'none' })\n    else resetStyle(wrapper as HTMLElement, 'transition')\n  })\n}\n","import React, { forwardRef, useEffect, useRef } from 'react'\n\nimport { useComposedRefs } from '@radix-ui/react-compose-refs'\n\nimport { useDrawerContext } from '@/drawer/lib/hooks'\nimport { clamp, mergeHandlers } from '@/shared/lib/helpers'\nimport { useSetStyle } from '@/shared/lib/hooks'\nimport {\n  type DragEventHandler,\n  Draggable,\n  type DraggableProps\n} from '@/shared/ui/draggable'\nimport {\n  getDumpedValue,\n  getUndumpedValue\n} from '@/shared/ui/draggable/lib/helpers'\n\nimport { getMinConstraint } from '../lib/helpers'\n\nexport interface ScrollableProps extends DraggableProps<number> {}\n\nexport const Scrollable = forwardRef<HTMLDivElement, ScrollableProps>(\n  ({ onConstraint, onDragEnd, onPointerDown, ...props }, forwardedRef) => {\n    const {\n      drawerControls,\n      scrollableControls,\n      scrollableRef,\n      snap,\n      snapPoints,\n      onScrollableConstraint\n    } = useDrawerContext()\n    const { y } = scrollableControls\n\n    const animationId = useRef<number | null>(null)\n\n    const composedRef = useComposedRefs(scrollableRef, forwardedRef)\n\n    const [setStyle, resetStyle] = useSetStyle(scrollableRef)\n\n    const max = 0\n\n    useEffect(() => {\n      if (snap === snapPoints[snapPoints.length - 1]) return\n\n      y.set(max)\n\n      drawerControls.unlock()\n      scrollableControls.lock()\n    }, [snap])\n\n    useEffect(() => {\n      y.set(max)\n    }, [])\n\n    const resetTransition = () => resetStyle('transitionDuration')\n\n    const resetToBounds = () => {\n      const node = scrollableRef.current\n      if (!node) return\n      y.set(clamp(getMinConstraint(node), max, y.get()))\n    }\n\n    const animate = (prev: number, cur: number, velocity: number) => {\n      const node = scrollableRef.current\n      if (!node) return\n\n      const time = cur - prev\n\n      const min = getMinConstraint(node)\n      const delta = velocity * time\n      const newUndumpedY = getUndumpedValue(y.get(), min, max) + delta\n\n      y.set(getDumpedValue(newUndumpedY, min, max))\n\n      const acceleration = -0.0015\n\n      const newVelocity =\n        Math.sign(velocity) *\n        Math.max(Math.abs(velocity) + acceleration * time, 0)\n\n      const maxDist = Math.abs(velocity) * 100\n      const outOfMax =\n        newUndumpedY - min <= -maxDist || newUndumpedY - max >= maxDist\n\n      if (newVelocity === 0 || outOfMax) {\n        resetTransition()\n        return resetToBounds()\n      }\n\n      animationId.current = window.requestAnimationFrame((time) =>\n        animate(cur, time, newVelocity)\n      )\n    }\n\n    const handleDragEnd: DragEventHandler = (_, { velocity }) => {\n      if (scrollableControls.locked.get()) return resetToBounds()\n\n      setStyle({ transitionDuration: '0s' })\n      animationId.current = window.requestAnimationFrame((time) =>\n        animate(time, time, velocity)\n      )\n    }\n\n    const handlePointerDown = () => {\n      if (animationId.current === null) return\n\n      window.cancelAnimationFrame(animationId.current)\n      animationId.current = null\n      resetTransition()\n    }\n\n    return (\n      <Draggable\n        vladyoslav-drawer-scrollable=\"\"\n        ref={composedRef}\n        dragControls={scrollableControls}\n        constraints={{\n          min: getMinConstraint,\n          max\n        }}\n        onDragEnd={mergeHandlers(handleDragEnd, onDragEnd)}\n        onPointerDown={mergeHandlers(handlePointerDown, onPointerDown)}\n        onConstraint={mergeHandlers(onScrollableConstraint, onConstraint)}\n        {...props}\n      />\n    )\n  }\n)\n\nScrollable.displayName = 'Drawer.Scrollable'\n","export const getMinConstraint = (el: HTMLElement) => {\n  const rect = el.getBoundingClientRect()\n  const parent = el.parentNode as HTMLElement\n  const parentRect = parent.getBoundingClientRect()\n\n  return parentRect.height - rect.height\n}\n","import React, { forwardRef } from 'react'\n\nimport { useDrawerContext } from '@/drawer/lib/hooks'\n\nimport { Areas } from './areas'\nimport { Lines } from './lines'\n\nexport const SnapAreas = forwardRef<HTMLDivElement, {}>(({ ...props }, ref) => {\n  const { open } = useDrawerContext()\n\n  if (!open) return null\n\n  return (\n    <div\n      ref={ref}\n      vladyoslav-drawer-snap-areas=\"\"\n      style={{\n        position: 'fixed',\n        inset: 0,\n        display: 'flex',\n        flexDirection: 'column-reverse',\n        pointerEvents: 'none'\n      }}\n      {...props}\n    >\n      <Lines />\n      <Areas />\n    </div>\n  )\n})\n\nSnapAreas.displayName = 'Drawer.SnapAreas'\n","import React, { type FC } from 'react'\n\nimport { getSnapAreas } from '@/drawer/lib/helpers'\nimport { useDrawerContext } from '@/drawer/lib/hooks'\n\nimport { COLORS } from '../lib/constants'\nimport { useMounted } from '../lib/hooks'\n\nexport const Areas: FC = () => {\n  const { snapPoints, dismissible, drawerRef } = useDrawerContext()\n\n  const dismissiblePoints = dismissible ? [0, ...snapPoints] : snapPoints\n\n  const mounted = useMounted()\n\n  if (!mounted) return null\n\n  const snapAreas = getSnapAreas(dismissiblePoints, drawerRef.current!)\n\n  const [_, snapHeights] = snapAreas.reduce<[number, number[]]>(\n    ([prev, acc], cur) => [cur, [...acc, cur - prev]],\n    [0, []]\n  )\n\n  return [...snapHeights, `100%`].map((height, index) => (\n    <div\n      key={index}\n      vladyoslav-drawer-area=\"\"\n      style={{\n        flexShrink: 0,\n        background: COLORS[index % COLORS.length],\n        opacity: 0.4,\n        height\n      }}\n    />\n  ))\n}\n","export const COLORS = [\n  '#ef4444',\n  '#3b82f6',\n  '#cffafe',\n  '#84cc16',\n  '#8b5cf6',\n  '#f97316'\n]\n","import { useEffect, useState } from 'react'\n\nexport const useMounted = () => {\n  const [mounted, setMounted] = useState(false)\n\n  useEffect(() => setMounted(true), [])\n\n  return mounted\n}\n","import React, { type FC } from 'react'\n\nimport { cssToPx } from '@/drawer/lib/helpers'\nimport { useDrawerContext } from '@/drawer/lib/hooks'\n\nimport { COLORS } from '../lib/constants'\nimport { useMounted } from '../lib/hooks'\n\nexport const Lines: FC = () => {\n  const { snapPoints, dismissible, drawerRef } = useDrawerContext()\n\n  const mounted = useMounted()\n\n  if (!mounted) return null\n\n  const snapLines = (dismissible ? [0, ...snapPoints] : snapPoints).map(\n    (point) => cssToPx(point, drawerRef.current!)\n  )\n\n  return snapLines.map((line, index) => (\n    <div\n      key={line}\n      vladyoslav-drawer-lines=\"\"\n      style={{\n        left: 0,\n        right: 0,\n        position: 'fixed',\n        borderTop: '1px dashed',\n        borderColor: COLORS[index % COLORS.length],\n        bottom: line\n      }}\n    />\n  ))\n}\n"],"mappings":"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","names":["import_react_dialog","import_react","import_react","React","import_react","React","import_react","import_react","import_react_compose_refs","import_react","import_react","import_react","import_react","transformTemplate","setStyle","resetStyle","import_react","transformTemplate","setStyle","resetStyle","React","import_react","getSnap","import_react","setStyle","resetStyle","React","React","ContentPrimitive","import_react","import_react_compose_refs","import_react_dialog","import_react","import_react_primitive","React","setStyle","resetStyle","React","RadixOverlayPrimitive","import_react","import_react_dialog","React","PortalPrimitive","import_react","import_react_dialog","import_react","import_react","React","RootPrimitive","import_react","import_react_compose_refs","getMinConstraint","setStyle","resetStyle","getMinConstraint","time","React","import_react","import_react","import_react","React","import_react","React","React"]}